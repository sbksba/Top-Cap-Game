<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top-Cap Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-800 flex items-center justify-center min-h-screen p-4">

    <div id="rulesModal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4 modal">
        <div class="bg-gray-700 text-white rounded-lg p-6 shadow-xl max-w-lg w-full">
            <h2 class="text-2xl font-bold mb-4">How to Play Top-Cap</h2>
            <ul class="list-disc list-inside space-y-2 text-gray-300">
                <li>**Objective:** Be the first player to move one of your pieces to the opponent's **goal square**.</li>
                <li>**Goal Squares:** Player 1's (ðŸ”´) goal is the top-left corner. Player 2's (ðŸ”µ) goal is the bottom-right corner.</li>
                <li>**Movement:** On your turn, select one of your pieces. It can move a number of spaces equal to the number of pieces **directly adjacent** to it (horizontally, vertically, or diagonally).</li>
                <li>**Move Path:** The piece must move in a **straight, unobstructed line** in any of the 8 directions. The destination square must be empty.</li>
                <li>**Winning:** You win if you capture the opponent's goal or if the opponent has **no valid moves left**.</li>
            </ul>
            <button id="closeModalButton" class="mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-full w-full">Got It!</button>
        </div>
    </div>

    <div id="modeSelection" class="game-mode-container">
        <h1 class="text-4xl font-bold text-gray-200 mb-6">Choose Game Mode</h1>
        <div class="space-y-4">
            <button id="soloModeButton" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-colors duration-200 w-full">
                Player vs. AI
            </button>
            <button id="twoPlayerModeButton" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-colors duration-200 w-full">
                Player vs. Player
            </button>
        </div>
    </div>

    <div id="gameContainer" class="bg-gray-600 p-2 rounded-xl shadow-2xl max-w-xl w-full flex-col items-center space-y-6 hidden">
        <h1 class="text-4xl font-bold text-gray-200">Top-Cap Game</h1>
        <div class="text-xl font-semibold text-gray-400 flex items-center space-x-2">
            <span id="gameStatus">Loading...</span>
            <span id="currentPlayerIcon" class="w-6 h-6 rounded-full"></span>
        </div>
        <div id="gameBoard" class="board-grid bg-gray-600 rounded-lg shadow-inner w-full">
            </div>
        <div class="flex flex-col items-center space-y-4 w-full">
            <button id="resetButton" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-colors duration-200">
                Reset Game
            </button>
            <div id="messageBox" class="bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500 p-4 rounded-lg w-full hidden">
                <p id="messageText"></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
